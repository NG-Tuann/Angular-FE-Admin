<div class="wrapper" *ngIf="user">
  <!-- The Modal -->
  <div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
      <span style="text-align:right" class="close" (click)="closeModal();">&times;</span>
      <h1>{{title}}</h1>
      <p>Fill in the form to create new user ..</p>
      
      <div class="form-group">
        <label for="name">Username:</label>
        <input type="text" [(ngModel)]="user.username" class="form-control" id="name" placeholder="Enter mail" >
      </div>

      <div class="form-group">
          <label for="fullname">Fullname:</label>
          <input type="text" [(ngModel)]="user.fullname" class="form-control" id="fullname" placeholder="Enter fullname" >
      </div>

      <div class="form-group">
          <label for="phone">Phone:</label>
          <input type="text" [(ngModel)]="user.phone" class="form-control" id="phone" placeholder="Enter phone" >
      </div>

      <div class="form-group" *ngIf="user.id">
          <label for="dob">Date of birth:</label>
          <input type="date" [value]="formatDate(user.dob)" class="form-control" id="dob" placeholder="Enter birthday" >
      </div>

      <div class="form-group" *ngIf="!user.id">
          <label for="dob">Date of birth:</label>
          <input type="date" [(ngModel)]="user.dob" class="form-control" (input)="onDateChange($event)" id="dob" placeholder="Enter birthday" >
      </div>

      <div class="form-group">
          <label for="idcard">Id Card:</label>
          <input type="text" [(ngModel)]="user.idCard" class="form-control" (input)="onDateChange($event)" id="idcard" placeholder="Enter card" >
      </div>

      <div class="form-group">
          <label for="role">Role:</label>
          <select class="form-control" id="role" [(ngModel)]="user.idRole">
              <option *ngFor="let role of roles" [value]="role.id" aria-required="true">{{ role.name }}</option>
            </select>
        </div>

      <hr>
      <button class="btn btn-primary" (click)="createNewUser(user);" *ngIf="!user.id">Create new</button>
      <button class="btn btn-primary" (click)="updateUser(user);" *ngIf="user.id">Save</button>

    </div>
  </div>
</div>
